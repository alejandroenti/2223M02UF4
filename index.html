<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MongENTI</title>
	</head>
	<body>
		<header>
			<h1>MongENTI</h1>
			<nav>
				<form>
					<ul>
						<li><button id="characters-button" onclick="getCharacters(); return false;">Personajes</button></li>
						<li><button id="weapons-button" onclick="getWeapons(); return false;">Armas</button></li>
						<li><button id="items-button" onclick="getItems(); return false;">Objetos</button></li>
					</ul>
				</form>
			</nav>
		</header>
		<main id="contents-main">
		</main>
		<form action="characters_form" method="POST">
			<h2>Añadir personaje</h2>
			<p>
				<label for="character-name">Nombre</label>
				<input type="text" name="name" id="character-name"/>
			<p>
			<p><input type="submit" value="¡Añadir personaje!"/></p>
		</form>
		<script>
			function getCharacters () {

				fetch("/characters")
					.then(response => response.json())
					.then(characters => {
				
						let list = "<ul>";

						for (let i = 0; i < characters.length; i++) {
							list += "<li>" + characters[i] + "</li>";
						}

						list += "</ul>";
			
						document.getElementById("contents-main").innerHTML = list;
					});
			}
			
			function getWeapons () {

				fetch("/weapons")
					.then(response => response.json())
					.then(weapons => {
				
						let list = "<ul>";

						for (let i = 0; i < weapons.length; i++) {
							list += "<li>" + weapons[i] + "</li>";
						}

						list += "</ul>";
			
						document.getElementById("contents-main").innerHTML = list;
					});
			}

			function getItems() {
				
				fetch("/items")
					.then(response => response.json())
					.then(items => {
					
						let list = "<ul>";

						for (let i = 0; i < items.length; i++) {
							list += "<li>" + items[i] + "</li>";
						}

						list += "</ul>";

						document.getElementById("contents-main").innerHTML = list;
			
					});
			}
		</script>
	</body>
</html>
